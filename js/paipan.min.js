"use strict";function paipan(){this.zwz=!0,this.synmonth=29.530588853,this.MM=new Array,this.debug=!0,this.wkd=["日","一","二","三","四","五","六"],this.gz=["甲子","乙丑","丙寅","丁卯","戊辰","己巳","庚午","辛未","壬申","癸酉","甲戌","乙亥","丙子","丁丑","戊寅","己卯","庚辰","辛巳","壬午","癸未","甲申","乙酉","丙戌","丁亥","戊子","己丑","庚寅","辛卯","壬辰","癸巳","甲午","乙未","丙申","丁酉","戊戌","己亥","庚子","辛丑","壬寅","癸卯","甲辰","乙巳","丙午","丁未","戊申","己酉","庚戌","辛亥","壬子","癸丑","甲寅","乙卯","丙辰","丁巳","戊午","己未","庚申","辛酉","壬戌","癸亥"],this.ctg=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],this.cdz=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],this.csx=["鼠","牛","虎","兔","龍","蛇","馬","羊","猴","雞","狗","豬"],this.jq=["春分","清明","穀雨","立夏","小滿","芒種","夏至","小暑","大暑","立秋","處暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至","小寒","大寒","立春","雨水","驚蟄"],this.dxy=["正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"],this.dxd=["初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","廿十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],this.dxs=["零","一","二","三","四","五","六","七","八","九"],this.cwx=["金","水","木","火","土"],this.xb=["男","女"],this.mz=["乾","坤"],this.cyy=["阳","阴"],this.lx=["命旺","印重","煞重","财旺","伤官"],this.wxtg=[2,2,3,3,4,4,0,0,1,1],this.wxdz=[1,4,2,2,4,3,3,4,0,0,4,1],this.ssq=["正印","偏印","比肩","劫財","傷官","食神","正財","偏財","正官","偏官"],this.sss=["印","卩","比","劫","伤","食","财","才","官","杀"],this.dgs=[[2,3,1,0,9,8,7,6,5,4],[3,2,0,1,8,9,6,7,4,5],[5,4,2,3,1,0,9,8,7,6],[4,5,3,2,0,1,8,9,6,7],[7,6,5,4,2,3,1,0,9,8],[6,7,4,5,3,2,0,1,8,9],[9,8,7,6,5,4,2,3,1,0],[8,9,6,7,4,5,3,2,0,1],[1,0,9,8,7,6,5,4,2,3],[0,1,8,9,6,7,4,5,3,2]],this.dzs=[[0,1,8,9,6,7,4,5,3,2],[6,7,4,5,3,2,0,1,8,9],[2,3,1,0,9,8,7,6,5,4],[3,2,0,1,8,9,6,7,4,5],[7,6,5,4,2,3,1,0,9,8],[5,4,2,3,1,0,9,8,7,6],[4,5,3,2,0,1,8,9,6,7],[6,7,4,5,3,2,0,1,8,9],[9,8,7,6,5,4,2,3,1,0],[8,9,6,7,4,5,3,2,0,1],[7,6,5,4,2,3,1,0,9,8],[1,0,9,8,7,6,5,4,2,3]],this.cxz=["摩羯","寶瓶","雙魚","白羊","金牛","雙子","巨蟹","獅子","室女","天平","天蠍","人馬"],this.zcg=[[9,-1,-1],[5,9,7],[0,2,4],[1,-1,-1],[4,1,9],[2,4,6],[3,5,-1],[5,1,3],[6,8,4],[7,-1,-1],[4,7,3],[8,0,-1]],this.czs=["長生(強)","沐浴(凶)","冠帶(吉)","臨官(大吉)","帝旺(大吉)","衰(弱)","病(弱)","死(凶)","墓(吉)","絕(凶)","胎(平)","養(平)"],this.yyss=["異","同"],this.sxss=["生我","同我","我生","我克","克我"],this.cfw=["　中　","　北　","北北東","東北東","　東　","東南東","南南東","　南　","南南西","西南西","　西　","西北西","北北西"],this.csj=["旺四季","　春　","　夏　","　秋　","　冬　"],this.fwtg=[4,4,7,7,0,0,10,10,1,1],this.fwdz=[1,2,3,4,5,6,7,8,9,10,11,12],this.sjtg=[1,1,2,2,0,0,3,3,4,4],this.sjdz=[1,1,2,2,2,3,3,3,4,4,4,1],this.logs=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=new Array;if(i[0]="超出計算能力",i[1]="適用於西元-1000年至西元3000年,超出此範圍誤差較大",i[2]="对应的干支不存在",i[3]="干支非六十甲子",i[4]="日期超出範圍",i[5]="日期錯誤",i[6]="月份錯誤",i[7]="此年非閏年",i[8]="此月非閏月",i[9]="不存在的时间",i[10]="参数非整数字符串",i[11]="参数非整数类型",i[12]="参数非浮点类型",i[13]="月份超出範圍",i[14]="此年無閏月",i[15]="参数非整数",i[16]="参数非数字",this.debug){var a=void 0===i[t]?t:i[t];a+=null===r?"":":"+r,console.log(a)}return!1},this.intval=function(t,r){var i,a,s=void 0===t?"undefined":_typeof(t);return"boolean"===s?+t:"string"===s?(0===r&&(a=t.match(/^\s*0(x?)/i),r=a?a[1]?16:8:10),i=parseInt(t,r||10),isNaN(i)||!isFinite(i)?(this.logs(15,i),0):i):"number"===s&&isFinite(t)?t<0?Math.ceil(t):Math.floor(t):(this.logs(15,t),0)},this.floatval=function(t){var r=parseFloat(t);return isNaN(r)&&this.logs(16,t),r||0},this.boolval=function(t){return!1!==t&&(0!==t&&0!==t&&(""!==t&&"0"!==t&&((!Array.isArray(t)||0!==t.length)&&(null!==t&&void 0!==t))))},this.Jdays=function(t,r,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,t=this.floatval(t),r=this.floatval(r),i=this.floatval(i),a=this.floatval(a),s=this.floatval(s),e=this.floatval(e);if(t<-7e3||t>7e3)return this.logs(0),!1;var h=t+Math.floor((r-3)/10);if(t>1582||1582==t&&r>10||1582==t&&10==r&&i>=15)var n=1721119.5,o=Math.floor(365.25*h)-Math.floor(h/100)+Math.floor(h/400);else{if(!(t<1582||1582==t&&r<10||1582==t&&10==r&&i<=4))return this.logs(9),!1;var n=1721117.5,o=Math.floor(365.25*h)}var l=Math.floor(r+9)%12,f=30*l+Math.floor(34*(l+1)/57),v=i-1;return a+=(e/60+s)/60,o+f+v+a/24+n},this.Jtime=function(t){var t=this.floatval(t);if(t>=2299160.5)var r=146097,i=1721119.5;else var r=146100,i=1721117.5;var a=Math.floor(t-i),s=r/4,e=Math.floor((a+.75)/s),h=Math.floor(a+.75-e*s),n=Math.floor((h+.75)/365.25);h=Math.floor(h+.75-365.25*n+1);var o=Math.floor((h-.5)/30.6);h=Math.floor(h-.5-30.6*o+1);var l=100*e+n,f=(o+2)%12+1;f<3&&(l+=1);var v=Math.floor(24*(t+.5-Math.floor(t+.5))*60*60+5e-5),M=Math.floor(v/60),y=v%60,u=Math.floor(M/60),c=M%60,d=Math.floor(l),g=Math.floor(f),w=Math.floor(h);return Array(d,g,w,u,c,y)},this.ValidDate=function(t,r,i){var a=!0;if(r<=0||r>12)this.logs(13),a=!1;else{var s=-(t%4==0),e=(t%400==0)-(t%100==0)&&t>1582,h=s+e,n=30+(Math.abs(r-7.5)+.5)%2-(2==r)*(2+h);(i<=0||i>n)&&(0==h&&2==r&&29==i?this.logs(14):this.logs(4),a=!1)}return 1582==t&&10==r&&i>=5&&i<15&&(this.logs(9),a=!1),a},this.VE=function(t){var r=this.intval(t);if(r>=1e3&&r<=8001)var i=(r-2e3)/1e3,a=2451623.80984+365242.37404*i+.05169*i*i-.00411*i*i*i-57e-5*i*i*i*i;else{if(!(r>=-8e3&&r<1e3))return this.logs(0),!1;var i=r/1e3,a=1721139.29189+365242.1374*i+.06134*i*i+.00111*i*i*i-71e-5*i*i*i*i}return a},this.MeanJQJD=function(t,r,i){var a,t=this.intval(t),r=this.intval(r),i=this.intval(i),s=new Array,e=this.VE(t),h=this.VE(t+1)-e,n=2*Math.PI/24,o=(e-2451545)/365250,l=.0167086342-.0004203654*o-126734e-10*o*o+1.444e-7*o*o*o-2e-10*o*o*o*o+3e-10*o*o*o*o*o,f=t/1e3,v=111.25586939-17.0119934518333*f-.044091890166673*f*f-.000437356166661345*f*f*f+816716666602386e-20*f*f*f*f,M=2*v*Math.PI/360,y=new Array(30);for(a=1;a<=r+i;a++){var u=0,c=n*(a-1)+M;c>Math.PI&&c<=3*Math.PI&&(c=2*Math.PI-c,u=1),c>3*Math.PI&&(c=4*Math.PI-c,u=2);var d=2*Math.atan(Math.sqrt((1-l)/(1+l))*Math.tan(c/2)),g=l*Math.sqrt(1-l*l)*Math.sin(c)/(1+l*Math.cos(c)),w=(d-g)*h/2/Math.PI;1==u&&(w=h-w),2==u&&(w=2*h-w),y[a]=w}for(a=Math.max(1,r);a<=r+i;a++)s[a]=e+y[a]-y[1];return s},this.Perturbation=function(t){for(var t=this.floatval(t),r=new Array(485,203,199,182,156,136,77,74,70,58,52,50,45,44,29,18,17,16,14,12,12,12,9,8),i=new Array(324.96,337.23,342.08,27.85,73.14,171.52,222.54,296.72,243.58,119.81,297.17,21.02,247.54,325.15,60.93,155.12,288.79,198.04,199.76,95.39,287.11,320.81,227.73,15.45),a=new Array(1934.136,32964.467,20.186,445267.112,45036.886,22518.443,65928.934,3034.906,9037.513,33718.147,150.678,2281.226,29929.562,31555.956,4443.417,67555.328,4562.452,62894.029,31436.921,14577.848,31931.756,34777.259,1222.114,16859.074),s=(t-2451545)/36525,e=0,h=0;h<=23;h++)e+=r[h]*Math.cos(2*i[h]*Math.PI/360+2*a[h]*Math.PI/360*s);var n=35999.373*s-2.47;return 1e-5*e/(1+.0334*Math.cos(2*n*Math.PI/360)+7e-4*Math.cos(2*n*2*Math.PI/360))},this.DeltaT=function(t,r){var i,a,s,e,t=this.intval(t),r=this.intval(r);return e=t+(r-.5)/12,e<=-500?(i=(e-1820)/100,s=32*i*i-20):e<500?(i=e/100,s=10583.6-1014.41*i+33.78311*i*i-5.952053*i*i*i-.1798452*i*i*i*i+.022174192*i*i*i*i*i+.0090316521*i*i*i*i*i*i):e<1600?(i=(e-1e3)/100,s=1574.2-556.01*i+71.23472*i*i+.319781*i*i*i-.8503463*i*i*i*i-.005050998*i*i*i*i*i+.0083572073*i*i*i*i*i*i):e<1700?(a=e-1600,s=120-.9808*a-.01532*a*a+a*a*a/7129):e<1800?(a=e-1700,s=8.83+.1603*a-.0059285*a*a+13336e-8*a*a*a-a*a*a*a/1174e3):e<1860?(a=e-1800,s=13.72-.332447*a+.0068612*a*a+.0041116*a*a*a-37436e-8*a*a*a*a+121272e-10*a*a*a*a*a-1.699e-7*a*a*a*a*a*a+8.75e-10*a*a*a*a*a*a*a):e<1900?(a=e-1860,s=7.62+.5737*a-.251754*a*a+.01680668*a*a*a-.0004473624*a*a*a*a+a*a*a*a*a/233174):e<1920?(a=e-1900,s=1.494119*a-2.79-.0598939*a*a+.0061966*a*a*a-197e-6*a*a*a*a):e<1941?(a=e-1920,s=21.2+.84493*a-.0761*a*a+.0020936*a*a*a):e<1961?(a=e-1950,s=29.07+.407*a-a*a/233+a*a*a/2547):e<1986?(a=e-1975,s=45.45+1.067*a-a*a/260-a*a*a/718):e<2005?(a=e-2e3,s=63.86+.3345*a-.060374*a*a+.0017275*a*a*a+651814e-9*a*a*a*a+2373599e-11*a*a*a*a*a):e<2050?(a=e-2e3,s=62.92+.32217*a+.005589*a*a):e<2150?(i=(e-1820)/100,s=32*i*i-20-.5628*(2150-e)):(i=(e-1820)/100,s=32*i*i-20),(e<1955||e>=2005)&&(s-=12932e-9*(e-1955)*(e-1955)),s/60},this.GetAdjustedJQ=function(t,r,i){var t=this.intval(t),r=this.intval(r),i=this.intval(i),a=new Array,s=new Array;if(void 0===this.MM.GetAdjustedJQ&&(this.MM.GetAdjustedJQ=new Array),void 0==this.MM.GetAdjustedJQ[t]){a=this.MeanJQJD(t,0,26);for(var e=1;e<=26;e++){var h=this.Perturbation(a[e]),n=this.DeltaT(t,Math.floor(e/2)+3);a[e]=a[e]+h-n/60/24,a[e]=a[e]+1/3}this.MM.GetAdjustedJQ[t]=a}for(var e=r+1;e<=r+i;e++)s[e]=this.MM.GetAdjustedJQ[t][e];return s},this.GetZQsinceWinterSolstice=function(t){var t=this.intval(t),r=new Array,i=new Array(26);i=this.GetAdjustedJQ(t-1,18,5),r[0]=i[19],r[1]=i[21],r[2]=i[23],i=this.GetAdjustedJQ(t,0,26);for(var a=1;a<=13;a++)r[a+2]=i[2*a-1];return r},this.GetPureJQsinceSpring=function(t){var t=this.intval(t),r=new Array,i=new Array,a=t-1;i=this.GetAdjustedJQ(a,21,3),r[0]=i[22],r[1]=i[24],a=t,i=this.GetAdjustedJQ(a,0,26);for(var s=1;s<=13;s++)r[s+1]=i[2*s];return r},this.MeanNewMoon=function(t){var r,i,t=this.floatval(t),a=Math.floor((t-2451550.09765)/this.synmonth);return i=2451550.09765+a*this.synmonth,r=(i-2451545)/36525,i+1337e-7*r*r-1.5e-7*r*r*r+7.3e-10*r*r*r*r,a},this.MeanNewMoonDay=function(t){var r,i,t=this.floatval(t);return i=2451550.09765+Math.floor((t-2451550.09765)/this.synmonth)*this.synmonth,r=(i-2451545)/36525,i+1337e-7*r*r-1.5e-7*r*r*r+7.3e-10*r*r*r*r},this.TrueNewMoon=function(t){var r,i,a,s,e,h,n,o,l,f,v,M,y,t=this.intval(t);return y=2451550.09765+t*this.synmonth,r=(y-2451545)/36525,i=r*r,a=i*r,s=a*r,f=y+1337e-7*i-1.5e-7*a+7.3e-10*s,e=2.5534+29.10535669*t-218e-7*i-1.1e-7*a,h=201.5643+385.81693528*t+.0107438*i+1239e-8*a-5.8e-8*s,n=160.7108+390.67050274*t-.0016341*i-227e-8*a+1.1e-8*s,o=124.7746-1.5637558*t+.0020691*i+215e-8*a,l=1-.002516*r-74e-7*i,v=-.4072*Math.sin(Math.PI/180*h),v+=.17241*l*Math.sin(Math.PI/180*e),v+=.01608*Math.sin(Math.PI/180*2*h),v+=.01039*Math.sin(Math.PI/180*2*n),v+=.00739*l*Math.sin(Math.PI/180*(h-e)),v-=.00514*l*Math.sin(Math.PI/180*(h+e)),v+=.00208*l*l*Math.sin(Math.PI/180*(2*e)),v-=.00111*Math.sin(Math.PI/180*(h-2*n)),v-=57e-5*Math.sin(Math.PI/180*(h+2*n)),v+=56e-5*l*Math.sin(Math.PI/180*(2*h+e)),v-=42e-5*Math.sin(Math.PI/180*3*h),v+=42e-5*l*Math.sin(Math.PI/180*(e+2*n)),v+=38e-5*l*Math.sin(Math.PI/180*(e-2*n)),v-=24e-5*l*Math.sin(Math.PI/180*(2*h-e)),v-=17e-5*Math.sin(Math.PI/180*o),v-=7e-5*Math.sin(Math.PI/180*(h+2*e)),v+=4e-5*Math.sin(Math.PI/180*(2*h-2*n)),v+=4e-5*Math.sin(Math.PI/180*(3*e)),v+=3e-5*Math.sin(Math.PI/180*(h+e-2*n)),v+=3e-5*Math.sin(Math.PI/180*(2*h+2*n)),v-=3e-5*Math.sin(Math.PI/180*(h+e+2*n)),v+=3e-5*Math.sin(Math.PI/180*(h-e+2*n)),v-=2e-5*Math.sin(Math.PI/180*(h-e-2*n)),v-=2e-5*Math.sin(Math.PI/180*(3*h+e)),v+=2e-5*Math.sin(Math.PI/180*(4*h)),M=325e-6*Math.sin(Math.PI/180*(299.77+.107408*t-.009173*i)),M+=165e-6*Math.sin(Math.PI/180*(251.88+.016321*t)),M+=164e-6*Math.sin(Math.PI/180*(251.83+26.651886*t)),M+=126e-6*Math.sin(Math.PI/180*(349.42+36.412478*t)),M+=11e-5*Math.sin(Math.PI/180*(84.66+18.206239*t)),M+=62e-6*Math.sin(Math.PI/180*(141.74+53.303771*t)),M+=6e-5*Math.sin(Math.PI/180*(207.14+2.453732*t)),M+=56e-6*Math.sin(Math.PI/180*(154.84+7.30686*t)),M+=47e-6*Math.sin(Math.PI/180*(34.52+27.261239*t)),M+=42e-6*Math.sin(Math.PI/180*(207.19+.121824*t)),M+=4e-5*Math.sin(Math.PI/180*(291.34+1.844379*t)),M+=37e-6*Math.sin(Math.PI/180*(161.72+24.198154*t)),M+=35e-6*Math.sin(Math.PI/180*(239.56+25.513099*t)),M+=23e-6*Math.sin(Math.PI/180*(331.55+3.592518*t)),f+v+M},this.GetSMsinceWinterSolstice=function(t){var r,i,a,s,r,t=this.intval(t),e=new Array,h=new Array,n=this.GetAdjustedJQ(t-1,18,1),o=n[19];for(s=this.Jdays(t-1,11,0,0),r=this.MeanNewMoon(s),i=0;i<=19;i++)a=r+i,void 0+this.synmonth*i,h[i]=this.TrueNewMoon(a)+1/3,h[i]=h[i]-this.DeltaT(t,i-1)/1440;for(var l=0;l<=18&&!(Math.floor(h[l]+.5)>Math.floor(o+.5));l++);var f=l;for(a=0;a<=15;a++)e[a]=h[f-1+a];return e},this.GetZQandSMandLunarMonthCode=function(t){var r,t=this.intval(t),i=new Array,a=this.GetZQsinceWinterSolstice(t),s=this.GetSMsinceWinterSolstice(t);if(r=0,i[0]=0,Math.floor(a[12]+.5)>=Math.floor(s[13]+.5))for(var e=1;e<=14;e++)Math.floor(s[e]+.5>Math.floor(a[e-1-r]+.5)&&Math.floor(s[e+1]+.5)<=Math.floor(a[e-r]+.5))?(i[e]=e-.5,r=1):i[e]=e-r;else{for(var e=1;e<=12;e++)i[e]=e;for(var e=13;e<=14;e++)Math.floor(s[e]+.5>Math.floor(a[e-1-r]+.5)&&Math.floor(s[e+1]+.5)<=Math.floor(a[e-r]+.5))?(i[e]=e-.5,r=1):i[e]=e-r}return i},this.Lunar2Solar=function(t,r,i,a){var s,e,h,n,t=this.intval(t),r=this.intval(r),i=this.intval(i),a=this.boolval(a),o=new Array,l=new Array,f=new Array;if(t<-7e3||t>7e3)return this.logs(0),!1;if(t<-1e3||t>3e3)return this.logs(1),!1;o=this.GetSMsinceWinterSolstice(t),l=this.GetZQandSMandLunarMonthCode(t),s=0;for(var v=1;v<=14;v++)if(l[v]-Math.floor(l[v])>0){s=Math.floor(l[v]+.5);break}n=r+2;for(var M=0;M<=14;M++)f[M]=Math.floor(o[M+1]+.5)-Math.floor(o[M]+.5);return e=0,n>=3&&n<=14?i>=1&&i<=30?1==a?s<3?(e=1,this.logs(7)):s!=n?(e=1,this.logs(8)):i<=f[n]?h=o[n]+i-1:(e=1,this.logs(4)):0==s?i<=f[n-1]?h=o[n-1]+i-1:(e=1,this.logs(4)):i<=f[n+(n>s)-1]?h=o[n+(n>s)-1]+i-1:(e=1,this.logs(4)):(e=1,this.logs(5)):(e=1,this.logs(6)),!e&&this.Jtime(h).slice(0,3)},this.Solar2Lunar=function(t,r,i){var a,t=this.intval(t),r=this.intval(r),i=this.intval(i),s=new Array,e=new Array,h=0;if(t<-7e3||t>7e3)return this.logs(0),!1;if(t<-1e3||t>3e3)return this.logs(1),!1;if(!1===this.ValidDate(t,r,i))return!1;s=this.GetSMsinceWinterSolstice(t),e=this.GetZQandSMandLunarMonthCode(t);var n=this.Jdays(t,r,i,12);Math.floor(n)<Math.floor(s[0]+.5)&&(h=1,s=this.GetSMsinceWinterSolstice(t-1),e=this.GetZQandSMandLunarMonthCode(t-1));for(var o=0;o<=14;o++)if(Math.floor(n)>=Math.floor(s[o]+.5)&&Math.floor(n)<Math.floor(s[o+1]+.5)){var l=o;break}var f=Math.floor(n)-Math.floor(s[l]+.5)+1;if(e[l]<2||1==h)var v=t-1;else var v=t;if(2*(e[l]-Math.floor(e[l]))+1==1)var M=!1;else var M=!0;return a=Math.floor(e[l]+10)%12+1,Array(v,a,f,M)},this.GetWeek=function(t,r,i){var t=this.intval(t),r=this.intval(r),i=this.intval(i),a=this.Jdays(t,r,i,12,0,0);return!1!==a&&(Math.floor(a+1)%7+7)%7},this.GetSolarDays=function(t,r){var t=this.intval(t),r=this.intval(r);if(r<1||r>12)return this.logs(13),0;if(1582==t&&10==r)return 21;var i=-(t%4==0),a=(t%400==0)-(t%100==0)&&t>1582,s=i+a;return 30+(Math.abs(r-7.5)+.5)%2-(2==r)*(2+s)},this.GetLunarDays=function(t,r,i){var a,s,e,t=this.intval(t),r=this.intval(r),i=this.boolval(i),h=new Array,n=new Array,o=new Array;if(t<-7e3||t>7e3)return this.logs(0),!1;if(t<-1e3||t>3e3)return this.logs(1),!1;h=this.GetSMsinceWinterSolstice(t),n=this.GetZQandSMandLunarMonthCode(t),a=0;for(var l=1;l<=14;l++)if(n[l]-Math.floor(n[l])>0){a=Math.floor(n[l]+.5);break}e=r+2;for(var f=0;f<=14;f++)o[f]=Math.floor(h[f+1]+.5)-Math.floor(h[f]+.5);if(s=0,e>=3&&e<=14)if(1==i)if(a<3)s=1,this.logs(7);else if(a!=e)s=1,this.logs(8);else var v=o[e];else if(0==a)var v=o[e-1];else var v=o[e+(e>a)-1];else s=1,this.logs(6);return!s&&v},this.GetRunyue=function(t){for(var t=this.intval(t),r=this.GetZQandSMandLunarMonthCode(t),i=0,a=1;a<=14;a++)if(r[a]-Math.floor(r[a])>0){i=Math.floor(r[a]+.5);break}return Math.max(0,i-2)},this.GetXZ=function(t,r,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,t=this.intval(t),r=this.intval(r),i=this.intval(i),a=this.intval(a),s=this.intval(s),e=this.intval(e);if(!1===this.ValidDate(t,r,i))return!1;var h=this.Jdays(t,r,i,a,s,e);if(!1===h)return!1;var n=this.GetZQsinceWinterSolstice(t);if(h<n[0])var n=this.GetZQsinceWinterSolstice(t-1);for(var o=0;o<=13;o++)if(h<n[o]){var l=(o+12-1)%12;break}return l},this.Get24JQ=function(t){var t=this.intval(t),r=new Array,i=new Array,a=t-1;i=this.GetAdjustedJQ(a,21,3),r[0]=i[22],r[1]=i[23],r[2]=i[24],a=t,i=this.GetAdjustedJQ(a,0,21);for(var s=1;s<=21;s++)r[s+2]=i[s];return r},this.GetGZ=function(t,r,i,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,t=this.floatval(t),r=this.floatval(r),i=this.floatval(i),a=this.floatval(a),s=this.floatval(s),e=this.floatval(e);if(!1===this.ValidDate(t,r,i))return!1;var h=this.Jdays(t,r,i,a,s,e);if(!1===h)return!1;var n=new Array,o=t;n=this.GetPureJQsinceSpring(t),h<n[0]&&(o=t-1,n=this.GetPureJQsinceSpring(o));var l=new Array,f=new Array,v=((o+4712+24)%60+60)%60;l[0]=v%10,f[0]=v%12;for(var M=0;M<=13;M++)if(n[M]>=h){var y=M-1;break}var u=(12*(o+4712)+y+60)%60,c=(u+50)%60;l[1]=c%10,f[1]=c%12;var d=h+.5,g=86400*(d-Math.floor(d))+3600,w=Math.floor(d)+g/86400,A=(Math.floor(w+49)%60+60)%60;l[2]=A%10,f[2]=A%12,this.zwz&&a>=23&&(l[2]=(l[2]+10-1)%10,f[2]=(f[2]+12-1)%12);var P=12*w,G=(Math.floor(P+48)%60+60)%60;return l[3]=G%10,f[3]=G%12,Array(l,f)},this.MGZ=function(t){for(var r=new Array,i=2+t%10*12,a=0;a<=11;a++){var s=(a+i)%60;r[s]=this.gz[s]}return r},this.HGZ=function(t){for(var r=new Array,i=t%10*12,a=0;a<=11;a++){var s=(a+i)%60;r[s]=this.gz[s]}return r},this.GZ=function(t,r){var t=this.intval(t),r=this.intval(r);return t<0||t>59?(this.logs(3,11),!1):r<0||r>59?(this.logs(3,12),!1):t%2!=r%2?(this.logs(3,13),!1):(10+t-r)%10/2*12+r},this.gz2gl=function(t,r,i,a,s,e){var t=this.intval(t),r=this.intval(r),i=this.intval(i),a=this.intval(a),s=this.intval(s),e=this.intval(e);if(t<0||t>=60)return this.logs(3,0),!1;if(r<0||r>=60)return this.logs(3,1),!1;if(i<0||i>=60)return this.logs(3,2),!1;if(a<0||a>=60)return this.logs(3,3),!1;if(!(r in this.MGZ(t)))return this.logs(2,0),!1;if(!(a in this.HGZ(i)))return this.logs(2,1),!1;var h=s+60*e;if(s<-1e3||h>3e3)return this.logs(1),!1;for(var n=new Array,o=0;o<=e-1;o++){var l=s+60*o,f=(l+56)%60,v=(t+60-f)%60,M=l+v,y=this.GetPureJQsinceSpring(M),u=(r+60-2)%12,c=y[u],d=y[u+1],g=(Math.floor(c)+49)%60,w=(i+60-g)%60,A=Math.floor(c+w),P=a%12,G=A+(2*P-13)/24,I=A+(2*P-11)/24;if(I<c||G>d);else{if(G>c&&I<d)var z=G,S=I;if(G<c&&I>c)var z=c,S=I;if(G<d&&I>d)var z=G,S=d;n.push([this.Jtime(z),this.Jtime(S)])}}return n},this.fatemaps=function(t,r,i,a,s){var e=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,t=this.intval(t)?1:0,r=this.intval(r),i=this.intval(i),a=this.intval(a),s=this.intval(s),e=this.intval(e),h=this.intval(h);if(r<-1e3||r>3e3)return this.logs(1),!1;var n=this.Jdays(r,i,a,s,e,h);if(!1===n)return!1;var o=this.Jtime(n),l=_slicedToArray(o,6),r=l[0],i=l[1],a=l[2],s=l[3],e=l[4],h=l[5],f=365.24244475,v=new Array,M=new Array(0,0,0,0,0),y=new Array(0,0),u=new Array(1,6,10,9,10,9,7,0,4,3),c=r,d=this.GetPureJQsinceSpring(c);n<d[0]&&(c=r-1,d=this.GetPureJQsinceSpring(c));for(var g=this.GetGZ(r,i,a,s,e,h),w=_slicedToArray(g,2),A=w[0],P=w[1],G=new Array,I=new Array,z=new Array,S=new Array,b=0;b<=3;b++)G[b]=A[b]%2,y[G[b]]=y[G[b]]+1,I[b]=P[b]%2,y[I[b]]=y[I[b]]+1,z[b]=this.wxtg[A[b]],M[z[b]]=M[z[b]]+1,S[b]=this.wxdz[P[b]],M[S[b]]=M[S[b]]+1;v.nyy=y,v.nwx=M,v.yytg=G,v.yydz=I,v.ewxtg=z,v.ewxdz=S;for(var J=new Array,m=new Array,Q=new Array,p=new Array,x=0;x<=3;x++){m[x]=new Array,Q[x]=new Array;for(var Z=0;Z<=2;Z++){var j=this.zcg[P[x]][Z];j>=0?(p[3*x+Z]=this.ctg[j],J[3*x+Z]=this.sss[this.dgs[j][A[2]]],m[x][Z]=this.wxtg[j],Q[x][Z]=j%2):(p[3*x+Z]="",J[3*x+Z]="")}}v.bctg=p,v.bzcg=J,v.wxcg=m,v.yycg=Q;for(var x=0;x<=14;x++)if(d[x]>n){var W=x-1;break}var D=n-d[W],k=d[W+1]-n;if(0==t&&0==G[0]||1==t&&1==G[0])var L=10*f*(k/(k+D)),N=0;else var L=10*f*(D/(k+D)),N=1;var T=n+L,q=this.Jtime(T),V=q[0];if(v.qyy=V,v.qyy_desc="出生后"+this.intval(L/f)+"年"+this.intval(L%f/(f/12))+"个月"+this.intval(L%f%(f/12))+"天起运",T>=this.GetPureJQsinceSpring(V)[0])var _=V;else var _=V-1;var C=((_+4712+24)%10+10)%10;C=this.ctg[((_+4712+24)%10+10)%10]+" "+this.ctg[((_+4712+24+5)%10+10)%10],v.qyy_desc2="每逢 "+C+" 年"+q[1]+"月"+q[2]+"日交大運";var E=_-c;v.dy=new Array;for(var F=new Array,H=new Array,O=new Array,R=new Array,X=new Array,B=new Array,K=new Array,U=(10+A[1]-P[1])%10/2*12+P[1],b=0;b<=8;b++)void 0===v.dy[b]&&(v.dy[b]=new Array),v.dy[b].zqage=F[b]=E+1+10*b,v.dy[b].zboz=H[b]=E+1+10*b+9,v.dy[b].zfman=O[b]=(U+60+Math.pow(-1,N)*(b+1))%10,v.dy[b].zfmbn=R[b]=(U+60+Math.pow(-1,N)*(b+1))%12,v.dy[b].zfma=X[b]=this.ctg[O[b]],v.dy[b].zfmb=B[b]=this.cdz[R[b]],v.dy[b].nzs=K[b]=(24+u[A[2]]+Math.pow(-1,A[2])*(R[0]+Math.pow(-1,N)*b))%12,v.dy[b].nzsc=this.czs[K[b]];for(var Y=new Array,$=new Array,tt=new Array,Z=0;Z<=89;Z++){var b=this.intval(Z/10),x=Z%10;void 0===v.dy[b].ly&&(v.dy[b].ly=new Array),void 0===v.dy[b].ly[x]&&(v.dy[b].ly[x]=new Array),v.dy[b].ly[x].age=Z+E+1,v.dy[b].ly[x].year=Z+E+_,v.dy[b].ly[x].lyean=Y[Z]=(A[0]+Z+E)%10,v.dy[b].ly[x].lyebn=$[Z]=(P[0]+Z+E)%12,v.dy[b].ly[x].lye=tt[Z]=this.ctg[Y[Z]]+this.cdz[$[Z]]}var rt=this.GetZQsinceWinterSolstice(r);if(n<rt[0])var rt=this.GetZQsinceWinterSolstice(r-1);for(var x=0;x<=13;x++)if(n<rt[x]){var it=(x+12-1)%12;break}v.mz=this.mz[t],v.xb=this.xb[t],v.gl=[r,i,a],v.nl=this.Solar2Lunar(r,i,a),v.tg=A,v.dz=P,v.sz=new Array,v.ctg=new Array,v.cdz=new Array;for(var x=0;x<=3;x++)v.sz[x]=this.ctg[A[x]]+this.cdz[P[x]],v.ctg[x]=this.ctg[A[x]],v.cdz[x]=this.cdz[P[x]];return v.sx=this.csx[P[0]],v.xz=this.cxz[it],v.cyy=this.cyy[G[2]],v}}var _slicedToArray=function(){function t(t,r){var i=[],a=!0,s=!1,e=void 0;try{for(var h,n=t[Symbol.iterator]();!(a=(h=n.next()).done)&&(i.push(h.value),!r||i.length!==r);a=!0);}catch(t){s=!0,e=t}finally{try{!a&&n.return&&n.return()}finally{if(s)throw e}}return i}return function(r,i){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window.p=new paipan;