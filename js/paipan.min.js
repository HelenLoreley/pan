"use strict";function paipan(){this.J=120;this.JQ=new Array();this.zwz=true;this.synmonth=29.530588853;this.debug=true;this.wkd=["日","一","二","三","四","五","六"];this.gz=["甲子","乙丑","丙寅","丁卯","戊辰","己巳","庚午","辛未","壬申","癸酉","甲戌","乙亥","丙子","丁丑","戊寅","己卯","庚辰","辛巳","壬午","癸未","甲申","乙酉","丙戌","丁亥","戊子","己丑","庚寅","辛卯","壬辰","癸巳","甲午","乙未","丙申","丁酉","戊戌","己亥","庚子","辛丑","壬寅","癸卯","甲辰","乙巳","丙午","丁未","戊申","己酉","庚戌","辛亥","壬子","癸丑","甲寅","乙卯","丙辰","丁巳","戊午","己未","庚申","辛酉","壬戌","癸亥"];this.ctg=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"];this.cdz=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];this.csx=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"];this.jq=["春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至","小寒","大寒","立春","雨水","惊蛰"];this.dxy=["正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"];this.dxd=["初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","廿十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"];this.dxs=["零","一","二","三","四","五","六","七","八","九"];this.cwx=["金","水","木","火","土"];this.xb=["男","女"];this.mz=["乾","坤"];this.cyy=["阳","阴"];this.lx=["命旺","印重","煞重","财旺","伤官"];this.wxtg=[2,2,3,3,4,4,0,0,1,1];this.wxdz=[1,4,2,2,4,3,3,4,0,0,4,1];this.ssq=["正印","偏印","比肩","劫財","傷官","食神","正財","偏財","正官","偏官"];this.sss=["印","卩","比","劫","伤","食","财","才","官","杀"];this.dgs=[[2,3,1,0,9,8,7,6,5,4],[3,2,0,1,8,9,6,7,4,5],[5,4,2,3,1,0,9,8,7,6],[4,5,3,2,0,1,8,9,6,7],[7,6,5,4,2,3,1,0,9,8],[6,7,4,5,3,2,0,1,8,9],[9,8,7,6,5,4,2,3,1,0],[8,9,6,7,4,5,3,2,0,1],[1,0,9,8,7,6,5,4,2,3],[0,1,8,9,6,7,4,5,3,2]];this.dzs=[[0,1,8,9,6,7,4,5,3,2],[6,7,4,5,3,2,0,1,8,9],[2,3,1,0,9,8,7,6,5,4],[3,2,0,1,8,9,6,7,4,5],[7,6,5,4,2,3,1,0,9,8],[5,4,2,3,1,0,9,8,7,6],[4,5,3,2,0,1,8,9,6,7],[6,7,4,5,3,2,0,1,8,9],[9,8,7,6,5,4,2,3,1,0],[8,9,6,7,4,5,3,2,0,1],[7,6,5,4,2,3,1,0,9,8],[1,0,9,8,7,6,5,4,2,3]];this.cxz=["摩羯","水瓶","双鱼","白羊","金牛","双子","巨蟹","狮子","处女","天秤","天蝎","射手"];this.zcg=[[9,-1,-1],[5,9,7],[0,2,4],[1,-1,-1],[4,1,9],[2,4,6],[3,5,-1],[5,1,3],[6,8,4],[7,-1,-1],[4,7,3],[8,0,-1]];this.czs=["長生(強)","沐浴(凶)","冠帶(吉)","臨官(大吉)","帝旺(大吉)","衰(弱)","病(弱)","死(凶)","墓(吉)","絕(凶)","胎(平)","養(平)"];this.yyss=["異","同"];this.sxss=["生我","同我","我生","我克","克我"];this.cfw=["　中　","　北　","北北東","東北東","　東　","東南東","南南東","　南　","南南西","西南西","　西　","西北西","北北西"];this.csj=["旺四季","　春　","　夏　","　秋　","　冬　"];this.fwtg=[4,4,7,7,0,0,10,10,1,1];this.fwdz=[1,2,3,4,5,6,7,8,9,10,11,12];this.sjtg=[1,1,2,2,0,0,3,3,4,4];this.sjdz=[1,1,2,2,2,3,3,3,4,4,4,1];this.logs=function(g,h){var f=new Array();f[0]="超出計算能力";f[1]="適用於西元-1000年至西元3000年,超出此範圍誤差較大";f[2]="对应的干支不存在";f[3]="干支非六十甲子";f[4]="日期超出範圍";f[5]="日期錯誤";f[6]="月份錯誤";f[7]="此年非閏年";f[8]="此月非閏月";f[9]="不存在的时间";f[10]="参数非整数字符串";f[11]="参数非整数类型";f[12]="参数非浮点类型";f[13]="月份超出範圍";f[14]="此年無閏月";f[15]="参数非整数";f[16]="参数非数字";if(this.debug){var e=(f[g]===undefined)?g:f[g];e+=(h===undefined)?"":(":"+h);console.log(e)}return false};this.intval=function(h,l){var g,j;var f=typeof h;if(f==="boolean"){return +h}else{if(f==="string"){if(l===0){j=h.match(/^\s*0(x?)/i);l=j?(j[1]?16:8):10}g=parseInt(h,l||10);if(isNaN(g)||!isFinite(g)){this.logs(15,g);return 0}return g}else{if(f==="number"&&isFinite(h)){return h<0?Math.ceil(h):Math.floor(h)}else{this.logs(15,h);return 0}}}};this.floatval=function(d){var c=parseFloat(d);if(isNaN(c)){this.logs(16,d)}return(c||0)};this.boolval=function(b){if(b===false){return false}if(b===0||b===0){return false}if(b===""||b==="0"){return false}if(Array.isArray(b)&&b.length===0){return false}if(b===null||b===undefined){return false}return true};this.rad2mrad=function(b){b=b%(2*Math.PI);if(b<0){return b+2*Math.PI}return b};this.rad2rrad=function(b){b=b%(2*Math.PI);if(b<=-Math.PI){return b+2*Math.PI}if(b>Math.PI){return b-2*Math.PI}return b};this.dt_T=function(z){var d=(z-2451545)/365.2425+2000;var w=new Array(-4000,108371.7,-13036.8,392,0,-500,17201,-627.82,16.17,-0.3413,-150,12200.6,-346.41,5.403,-0.1593,150,9113.8,-328.13,-1.647,0.0377,500,5707.5,-391.41,0.915,0.3145,900,2203.4,-283.45,13.034,-0.1778,1300,490.1,-57.35,2.085,-0.0072,1600,120,-9.81,-1.532,0.1403,1700,10.2,-0.91,0.51,-0.037,1800,13.4,-0.72,0.202,-0.0193,1830,7.8,-1.81,0.416,-0.0247,1860,8.3,-0.13,-0.406,0.0292,1880,-5.4,0.32,-0.183,0.0173,1900,-2.3,2.06,0.169,-0.0135,1920,21.2,1.69,-0.304,0.0167,1940,24.2,1.22,-0.064,0.0031,1960,33.2,0.51,0.231,-0.0109,1980,51,1.29,-0.026,0.0032,2000,63.87,0.1,0,0,2005,64.7,0.21,0,0,2012,66.8,0.22,0,0,2018,69,0.36,0,0,2028,72.6);var A=w[w.length-2];var s=w[w.length-1];if(d>=A){var q=31;if(d>A+100){return(-20+q*Math.pow((d-1820)/100,2))}var x=(-20+q*Math.pow((d-1820)/100,2));var y=(-20+q*Math.pow((A-1820)/100,2))-s;return x-y*(A+100-d)/100}var v,B=w;for(v=0;v<B.length;v+=5){if(d<B[v+5]){break}}var t=(d-B[v])/(B[v+5]-B[v])*10;var r=t*t;var u=r*t;return B[v+1]+B[v+2]*t+B[v+3]*r+B[v+4]*u};this.XL_calc=function(z){z/=10;var G=5;var H,A,t=0,c=1,F;var x=new Array(10000000000,20,578,920,1100,1124,1136,1148,1217,1226,1229,1229,1229,1229,1937,2363,2618,2633,2660,2666,17534704567,0,0,334165646,4.669256804,6283.075849991,3489428,4.6261024,12566.1517,349706,2.744118,5753.384885,341757,2.828866,3.523118,313590,3.62767,77713.771468,267622,4.418084,7860.419392,234269,6.135162,3930.209696,132429,0.742464,11506.76977,127317,2.037097,529.690965,119917,1.109629,1577.343542,99025,5.23268,5884.92685,90186,2.04505,26.29832,85722,3.50849,398.149,77979,1.17883,5223.69392,75314,2.53339,5507.55324,50526,4.58293,18849.22755,49238,4.20507,775.52261,35666,2.91954,0.06731,31709,5.84902,11790.62909,28413,1.89869,796.29801,27104,0.31489,10977.0788,24281,0.34481,5486.77784,20616,4.80647,2544.31442,20539,1.86948,5573.1428,20226,2.45768,6069.77675,15552,0.83306,213.2991,13221,3.41118,2942.46342,12618,1.08303,20.7754,11513,0.64545,0.98032,10285,0.636,4694.00295,10190,0.97569,15720.83878,10172,4.2668,7.11355,9921,6.2099,2146.1654,9761,0.681,155.4204,8580,5.9832,161000.6857,8513,1.2987,6275.9623,8471,3.6708,71430.6956,7964,1.8079,17260.1547,7876,3.037,12036.4607,7465,1.7551,5088.6288,7387,3.5032,3154.6871,7355,4.6793,801.8209,6963,0.833,9437.7629,6245,3.9776,8827.3903,6115,1.8184,7084.8968,5696,2.7843,6286.599,5612,4.3869,14143.4952,5558,3.4701,6279.5527,5199,0.1891,12139.5535,5161,1.3328,1748.0164,5115,0.2831,5856.4777,4900,0.4874,1194.447,4104,5.3682,8429.2413,4094,2.3985,19651.0485,3920,6.1683,10447.3878,3677,6.0413,10213.2855,3660,2.5696,1059.3819,3595,1.7088,2352.8662,3557,1.776,6812.7668,3329,0.5931,17789.8456,3041,0.4429,83996.8473,3005,2.7398,1349.8674,2535,3.1647,4690.4798,2474,0.2148,3.5904,2366,0.4847,8031.0923,2357,2.0653,3340.6124,2282,5.222,4705.7323,2189,5.5559,553.5694,2142,1.4256,16730.4637,2109,4.1483,951.7184,2030,0.3713,283.8593,1992,5.2221,12168.0027,1986,5.7747,6309.3742,1912,3.8222,23581.2582,1889,5.3863,149854.4001,1790,2.2149,13367.9726,1748,4.5605,135.0651,1622,5.9884,11769.8537,1508,4.1957,6256.7775,1442,4.1932,242.7286,1435,3.7236,38.0277,1397,4.4014,6681.2249,1362,1.8893,7632.9433,1250,1.1305,5.5229,1205,2.6223,955.5997,1200,1.0035,632.7837,1129,0.1774,4164.312,1083,0.3273,103.0928,1052,0.9387,11926.2544,1050,5.3591,1592.596,1033,6.1998,6438.4962,1001,6.0291,5746.2713,980,0.999,11371.705,980,5.244,27511.468,938,2.624,5760.498,923,0.483,522.577,922,4.571,4292.331,905,5.337,6386.169,862,4.165,7058.598,841,3.299,7234.794,836,4.539,25132.303,813,6.112,4732.031,812,6.271,426.598,801,5.821,28.449,787,0.996,5643.179,776,2.957,23013.54,769,3.121,7238.676,758,3.974,11499.656,735,4.386,316.392,731,0.607,11513.883,719,3.998,74.782,706,0.323,263.084,676,5.911,90955.552,663,3.665,17298.182,653,5.791,18073.705,630,4.717,6836.645,615,1.458,233141.314,612,1.075,19804.827,596,3.321,6283.009,596,2.876,6283.143,555,2.452,12352.853,541,5.392,419.485,531,0.382,31441.678,519,4.065,6208.294,513,2.361,10973.556,494,5.737,9917.697,450,3.272,11015.106,449,3.653,206.186,447,2.064,7079.374,435,4.423,5216.58,421,1.906,245.832,413,0.921,3738.761,402,0.84,20.355,387,1.826,11856.219,379,2.344,3.881,374,2.954,3128.389,370,5.031,536.805,365,1.018,16200.773,365,1.083,88860.057,352,5.978,3894.182,352,2.056,244287.6,351,3.713,6290.189,340,1.106,14712.317,339,0.978,8635.942,339,3.202,5120.601,333,0.837,6496.375,325,3.479,6133.513,316,5.089,21228.392,316,1.328,10873.986,309,3.646,10.637,303,1.802,35371.887,296,3.397,9225.539,288,6.026,154717.61,281,2.585,14314.168,262,3.856,266.607,262,2.579,22483.849,257,1.561,23543.231,255,3.949,1990.745,251,3.744,10575.407,240,1.161,10984.192,238,0.106,7.046,236,4.272,6040.347,234,3.577,10969.965,211,3.714,65147.62,210,0.754,13521.751,207,4.228,5650.292,202,0.814,170.673,201,4.629,6037.244,200,0.381,6172.87,199,3.933,6206.81,199,5.197,6262.3,197,1.046,18209.33,195,1.07,5230.807,195,4.869,36.028,194,4.313,6244.943,192,1.229,709.933,192,5.595,6282.096,192,0.602,6284.056,189,3.744,23.878,188,1.904,15.252,188,0.867,22003.915,182,3.681,15110.466,181,0.491,1.484,179,3.222,39302.097,179,1.259,12559.038,62833196674749,0,0,20605886,2.67823456,6283.07584999,430343,2.635127,12566.1517,42526,1.59047,3.52312,11926,5.79557,26.29832,10898,2.96618,1577.34354,9348,2.5921,18849.2275,7212,1.1385,529.691,6777,1.8747,398.149,6733,4.4092,5507.5532,5903,2.888,5223.6939,5598,2.1747,155.4204,4541,0.398,796.298,3637,0.4662,775.5226,2896,2.6471,7.1135,2084,5.3414,0.9803,1910,1.8463,5486.7778,1851,4.9686,213.2991,1729,2.9912,6275.9623,1623,0.0322,2544.3144,1583,1.4305,2146.1654,1462,1.2053,10977.0788,1246,2.8343,1748.0164,1188,3.258,5088.6288,1181,5.2738,1194.447,1151,2.075,4694.003,1064,0.7661,553.5694,997,1.303,6286.599,972,4.239,1349.867,945,2.7,242.729,858,5.645,951.718,758,5.301,2352.866,639,2.65,9437.763,610,4.666,4690.48,583,1.766,1059.382,531,0.909,3154.687,522,5.661,71430.696,520,1.854,801.821,504,1.425,6438.496,433,0.241,6812.767,426,0.774,10447.388,413,5.24,7084.897,374,2.001,8031.092,356,2.429,14143.495,350,4.8,6279.553,337,0.888,12036.461,337,3.862,1592.596,325,3.4,7632.943,322,0.616,8429.241,318,3.188,4705.732,297,6.07,4292.331,295,1.431,5746.271,290,2.325,20.355,275,0.935,5760.498,270,4.804,7234.794,253,6.223,6836.645,228,5.003,17789.846,225,5.672,11499.656,215,5.202,11513.883,208,3.955,10213.286,208,2.268,522.577,206,2.224,5856.478,206,2.55,25132.303,203,0.91,6256.778,189,0.532,3340.612,188,4.735,83996.847,179,1.474,4164.312,178,3.025,5.523,177,3.026,5753.385,159,4.637,3.286,157,6.124,5216.58,155,3.077,6681.225,154,4.2,13367.973,143,1.191,3894.182,138,3.093,135.065,136,4.245,426.598,134,5.765,6040.347,128,3.085,5643.179,127,2.092,6290.189,125,3.077,11926.254,125,3.445,536.805,114,3.244,12168.003,112,2.318,16730.464,111,3.901,11506.77,111,5.32,23.878,105,3.75,7860.419,103,2.447,1990.745,96,0.82,3.88,96,4.08,6127.66,91,5.42,206.19,91,0.42,7079.37,88,5.17,11790.63,81,0.34,9917.7,80,3.89,10973.56,78,2.4,1589.07,78,2.58,11371.7,77,3.98,955.6,77,3.36,36.03,76,1.3,103.09,75,5.18,10969.97,75,4.96,6496.37,73,5.21,38.03,72,2.65,6309.37,70,5.61,3738.76,69,2.6,3496.03,69,0.39,15.25,69,2.78,20.78,65,1.13,7058.6,64,4.28,28.45,61,5.63,10984.19,60,0.73,419.48,60,5.28,10575.41,58,5.55,17298.18,58,3.19,4732.03,5291887,0,0,871984,1.072097,6283.07585,30913,0.86729,12566.1517,2734,0.053,3.5231,1633,5.1883,26.2983,1575,3.6846,155.4204,954,0.757,18849.228,894,2.057,77713.771,695,0.827,775.523,506,4.663,1577.344,406,1.031,7.114,381,3.441,5573.143,346,5.141,796.298,317,6.053,5507.553,302,1.192,242.729,289,6.117,529.691,271,0.306,398.149,254,2.28,553.569,237,4.381,5223.694,208,3.754,0.98,168,0.902,951.718,153,5.759,1349.867,145,4.364,1748.016,134,3.721,1194.447,125,2.948,6438.496,122,2.973,2146.165,110,1.271,161000.686,104,0.604,3154.687,100,5.986,6286.599,92,4.8,5088.63,89,5.23,7084.9,83,3.31,213.3,76,3.42,5486.78,71,6.19,4690.48,68,3.43,4694,65,1.6,2544.31,64,1.98,801.82,61,2.48,10977.08,50,1.44,6836.65,49,2.34,1592.6,46,1.31,4292.33,46,3.81,149854.4,43,0.04,7234.79,40,4.94,7632.94,39,1.57,71430.7,38,3.17,6309.37,35,0.99,6040.35,35,0.67,1059.38,31,3.18,2352.87,31,3.55,8031.09,30,1.92,10447.39,30,2.52,6127.66,28,4.42,9437.76,28,2.71,3894.18,27,0.67,25132.3,26,5.27,6812.77,25,0.55,6279.55,23,1.38,4705.73,22,0.64,6256.78,20,6.07,640.88,28923,5.84384,6283.07585,3496,0,0,1682,5.4877,12566.1517,296,5.196,155.42,129,4.722,3.523,71,5.3,18849.23,64,5.97,242.73,40,3.79,553.57,11408,3.14159,0,772,4.134,6283.076,77,3.84,12566.15,42,0.42,155.42,88,3.14,0,17,2.77,6283.08,5,2.01,155.42,3,2.21,12566.15,27962,3.1987,84334.66158,10164,5.42249,5507.55324,8045,3.8801,5223.6939,4381,3.7044,2352.8662,3193,4.0003,1577.3435,2272,3.9847,1047.7473,1814,4.9837,6283.0758,1639,3.5646,5856.4777,1444,3.7028,9437.7629,1430,3.4112,10213.2855,1125,4.8282,14143.4952,1090,2.0857,6812.7668,1037,4.0566,71092.8814,971,3.473,4694.003,915,1.142,6620.89,878,4.44,5753.385,837,4.993,7084.897,770,5.554,167621.576,719,3.602,529.691,692,4.326,6275.962,558,4.41,7860.419,529,2.484,4705.732,521,6.25,18073.705,903,3.897,5507.553,618,1.73,5223.694,380,5.244,2352.866,166,1.627,84334.662,10001398880,0,0,167069963,3.098463508,6283.075849991,1395602,3.0552461,12566.1517,308372,5.198467,77713.771468,162846,1.173877,5753.384885,157557,2.846852,7860.419392,92480,5.45292,11506.76977,54244,4.56409,3930.2097,47211,3.661,5884.92685,34598,0.96369,5507.55324,32878,5.89984,5223.69392,30678,0.29867,5573.1428,24319,4.2735,11790.62909,21183,5.84715,1577.34354,18575,5.02194,10977.0788,17484,3.01194,18849.22755,10984,5.05511,5486.77784,9832,0.8868,6069.7768,8650,5.6896,15720.8388,8583,1.2708,161000.6857,6490,0.2725,17260.1547,6292,0.9218,529.691,5706,2.0137,83996.8473,5574,5.2416,71430.6956,4938,3.245,2544.3144,4696,2.5781,775.5226,4466,5.5372,9437.7629,4252,6.0111,6275.9623,3897,5.3607,4694.003,3825,2.3926,8827.3903,3749,0.8295,19651.0485,3696,4.9011,12139.5535,3566,1.6747,12036.4607,3454,1.8427,2942.4634,3319,0.2437,7084.8968,3192,0.1837,5088.6288,3185,1.7778,398.149,2846,1.2134,6286.599,2779,1.8993,6279.5527,2628,4.589,10447.3878,2460,3.7866,8429.2413,2393,4.996,5856.4777,2359,0.2687,796.298,2329,2.8078,14143.4952,2210,1.95,3154.6871,2035,4.6527,2146.1654,1951,5.3823,2352.8662,1883,0.6731,149854.4001,1833,2.2535,23581.2582,1796,0.1987,6812.7668,1731,6.152,16730.4637,1717,4.4332,10213.2855,1619,5.2316,17789.8456,1381,5.1896,8031.0923,1364,3.6852,4705.7323,1314,0.6529,13367.9726,1041,4.3329,11769.8537,1017,1.5939,4690.4798,998,4.201,6309.374,966,3.676,27511.468,874,6.064,1748.016,779,3.674,12168.003,771,0.312,7632.943,756,2.626,6256.778,746,5.648,11926.254,693,2.924,6681.225,680,1.423,23013.54,674,0.563,3340.612,663,5.661,11371.705,659,3.136,801.821,648,2.65,19804.827,615,3.029,233141.314,612,5.134,1194.447,563,4.341,90955.552,552,2.091,17298.182,534,5.1,31441.678,531,2.407,11499.656,523,4.624,6438.496,513,5.324,11513.883,477,0.256,11856.219,461,1.722,7234.794,458,3.766,6386.169,458,4.466,5746.271,423,1.055,5760.498,422,1.557,7238.676,415,2.599,7058.598,401,3.03,1059.382,397,1.201,1349.867,379,4.907,4164.312,360,5.707,5643.179,352,3.626,244287.6,348,0.761,10973.556,342,3.001,4292.331,336,4.546,4732.031,334,3.138,6836.645,324,4.164,9917.697,316,1.691,11015.106,307,0.238,35371.887,298,1.306,6283.143,298,1.75,6283.009,293,5.738,16200.773,286,5.928,14712.317,281,3.515,21228.392,280,5.663,8635.942,277,0.513,26.298,268,4.207,18073.705,266,0.9,12352.853,260,2.962,25132.303,255,2.477,6208.294,242,2.8,709.933,231,1.054,22483.849,229,1.07,14314.168,216,1.314,154717.61,215,6.038,10873.986,200,0.561,7079.374,198,2.614,951.718,197,4.369,167283.762,186,2.861,5216.58,183,1.66,39302.097,183,5.912,3738.761,175,2.145,6290.189,173,2.168,10575.407,171,3.702,1592.596,171,1.343,3128.389,164,5.55,6496.375,164,5.856,10984.192,161,1.998,10969.965,161,1.909,6133.513,157,4.955,25158.602,154,6.216,23543.231,153,5.357,13521.751,150,5.77,18209.33,150,5.439,155.42,139,1.778,9225.539,139,1.626,5120.601,128,2.46,13916.019,123,0.717,143571.324,122,2.654,88860.057,121,4.414,3894.182,121,1.192,3.523,120,4.03,553.569,119,1.513,17654.781,117,3.117,14945.316,113,2.698,6040.347,110,3.085,43232.307,109,0.998,955.6,108,2.939,17256.632,107,5.285,65147.62,103,0.139,11712.955,103,5.85,213.299,102,3.046,6037.244,101,2.842,8662.24,100,3.626,6262.3,98,2.36,6206.81,98,5.11,6172.87,98,2,15110.47,97,2.67,5650.29,97,2.75,6244.94,96,4.02,6282.1,96,5.31,6284.06,92,0.1,29088.81,85,3.26,20426.57,84,2.6,28766.92,81,3.58,10177.26,80,5.81,5230.81,78,2.53,16496.36,77,4.06,6127.66,73,0.04,5481.25,72,5.96,12559.04,72,5.92,4136.91,71,5.49,22003.91,70,3.41,7.11,69,0.62,11403.68,69,3.9,1589.07,69,1.96,12416.59,69,4.51,426.6,67,1.61,11087.29,66,4.5,47162.52,66,5.08,283.86,66,4.32,16858.48,65,1.04,6062.66,64,1.59,18319.54,63,5.7,45892.73,63,4.6,66567.49,63,3.82,13517.87,62,2.62,11190.38,61,1.54,33019.02,60,5.58,10344.3,60,5.38,316428.23,60,5.78,632.78,59,6.12,9623.69,57,0.16,17267.27,57,3.86,6076.89,57,1.98,7668.64,56,4.78,20199.09,55,4.56,18875.53,55,3.51,17253.04,54,3.07,226858.24,54,4.83,18422.63,53,5.02,12132.44,52,3.63,5333.9,52,0.97,155427.54,51,3.36,20597.24,50,0.99,11609.86,50,2.21,1990.75,48,1.62,12146.67,48,1.17,12569.67,47,4.62,5436.99,47,1.81,12562.63,47,0.59,21954.16,47,0.76,7342.46,46,0.27,4590.91,46,3.77,156137.48,45,5.66,10454.5,44,5.84,3496.03,43,0.24,17996.03,41,5.93,51092.73,41,4.21,12592.45,40,5.14,1551.05,40,5.28,15671.08,39,3.69,18052.93,39,4.94,24356.78,38,2.72,11933.37,38,5.23,7477.52,38,4.99,9779.11,37,3.7,9388.01,37,4.44,4535.06,36,2.16,28237.23,36,2.54,242.73,36,0.22,5429.88,35,6.15,19800.95,35,2.92,36949.23,34,5.63,2379.16,34,5.73,16460.33,34,5.11,5849.36,33,6.19,6268.85,10301861,1.1074897,6283.07584999,172124,1.064423,12566.1517,70222,3.14159,0,3235,1.0217,18849.2275,3080,2.8435,5507.5532,2497,1.3191,5223.6939,1849,1.4243,1577.3435,1008,5.9138,10977.0788,865,1.42,6275.962,863,0.271,5486.778,507,1.686,5088.629,499,6.014,6286.599,467,5.987,529.691,440,0.518,4694.003,410,1.084,9437.763,387,4.75,2544.314,375,5.071,796.298,352,0.023,83996.847,344,0.949,71430.696,341,5.412,775.523,322,6.156,2146.165,286,5.484,10447.388,284,3.42,2352.866,255,6.132,6438.496,252,0.243,398.149,243,3.092,4690.48,225,3.689,7084.897,220,4.952,6812.767,219,0.42,8031.092,209,1.282,1748.016,193,5.314,8429.241,185,1.82,7632.943,175,3.229,6279.553,173,1.537,4705.732,158,4.097,11499.656,158,5.539,3154.687,150,3.633,11513.883,148,3.222,7234.794,147,3.653,1194.447,144,0.817,14143.495,135,6.151,5746.271,134,4.644,6836.645,128,2.693,1349.867,123,5.65,5760.498,118,2.577,13367.973,113,3.357,17789.846,110,4.497,4292.331,108,5.828,12036.461,102,5.621,6256.778,99,1.14,1059.38,98,0.66,5856.48,93,2.32,10213.29,92,0.77,16730.46,88,1.5,11926.25,86,1.42,5753.38,85,0.66,155.42,81,1.64,6681.22,80,4.11,951.72,66,4.55,5216.58,65,0.98,25132.3,64,4.19,6040.35,64,0.52,6290.19,63,1.51,5643.18,59,6.18,4164.31,57,2.3,10973.56,55,2.32,11506.77,55,2.2,1592.6,55,5.27,3340.61,54,5.54,553.57,53,5.04,9917.7,53,0.92,11371.7,52,3.98,17298.18,52,3.6,10969.97,49,5.91,3894.18,49,2.51,6127.66,48,1.67,12168,46,0.31,801.82,42,3.7,10575.41,42,4.05,10984.19,40,2.17,7860.42,40,4.17,26.3,38,5.82,7058.6,37,3.39,6496.37,36,1.08,6309.37,36,5.34,7079.37,34,3.62,11790.63,32,0.32,16200.77,31,4.24,3738.76,29,4.55,11856.22,29,1.26,8635.94,27,3.45,5884.93,26,5.08,10177.26,26,5.38,21228.39,24,2.26,11712.96,24,1.05,242.73,24,5.59,6069.78,23,3.63,6284.06,23,1.64,4732.03,22,3.46,213.3,21,1.05,3496.03,21,3.92,13916.02,21,4.01,5230.81,20,5.16,12352.85,20,0.69,1990.75,19,2.73,6062.66,19,5.01,11015.11,18,6.04,6283.01,18,2.85,7238.68,18,5.6,6283.14,18,5.16,17253.04,18,2.54,14314.17,17,1.58,7.11,17,0.98,3930.21,17,4.75,17267.27,16,2.19,6076.89,16,2.19,18073.7,16,6.12,3.52,16,4.61,9623.69,16,3.4,16496.36,15,0.19,9779.11,15,5.3,13517.87,15,4.26,3128.39,15,0.81,709.93,14,0.5,25158.6,14,4.38,4136.91,13,0.98,65147.62,13,3.31,154717.61,13,2.11,1589.07,13,1.92,22483.85,12,6.03,9225.54,12,1.53,12559.04,12,5.82,6282.1,12,5.61,5642.2,12,2.38,167283.76,12,0.39,12132.44,12,3.98,4686.89,12,5.81,12569.67,12,0.56,5849.36,11,0.45,6172.87,11,5.8,16858.48,11,6.22,12146.67,11,2.27,5429.88,435939,5.784551,6283.07585,12363,5.57935,12566.1517,1234,3.1416,0,879,3.628,77713.771,569,1.87,5573.143,330,5.47,18849.228,147,4.48,5507.553,110,2.842,161000.686,101,2.815,5223.694,85,3.11,1577.34,65,5.47,775.52,61,1.38,6438.5,50,4.42,6286.6,47,3.66,7084.9,46,5.39,149854.4,42,0.9,10977.08,40,3.2,5088.63,35,1.81,5486.78,32,5.35,3154.69,30,3.52,796.3,29,4.62,4690.48,28,1.84,4694,27,3.14,71430.7,27,6.17,6836.65,26,1.42,2146.17,25,2.81,1748.02,24,2.18,155.42,23,4.76,7234.79,21,3.38,7632.94,21,0.22,4705.73,20,4.22,1349.87,20,2.01,1194.45,20,4.58,529.69,19,1.59,6309.37,18,5.7,6040.35,18,6.03,4292.33,17,2.9,9437.76,17,2,8031.09,17,5.78,83996.85,16,0.05,2544.31,15,0.95,6127.66,14,0.36,10447.39,14,1.48,2352.87,13,0.77,553.57,13,5.48,951.72,13,5.27,6279.55,13,3.76,6812.77,11,5.41,6256.78,10,0.68,1592.6,10,4.95,398.15,10,1.15,3894.18,10,5.2,244287.6,10,1.94,11856.22,9,5.39,25132.3,8,6.18,1059.38,8,0.69,8429.24,8,5.85,242.73,7,5.26,14143.5,7,0.52,801.82,6,2.24,8635.94,6,4,13367.97,6,2.77,90955.55,6,5.17,7058.6,5,1.46,233141.31,5,4.13,7860.42,5,3.91,26.3,5,3.89,12036.46,5,5.58,6290.19,5,5.54,1990.75,5,0.83,11506.77,5,6.22,6681.22,4,5.26,10575.41,4,1.91,7477.52,4,0.43,10213.29,4,1.09,709.93,4,5.09,11015.11,4,4.22,88860.06,4,3.57,7079.37,4,1.98,6284.06,4,3.93,10973.56,4,6.18,9917.7,4,0.36,10177.26,4,2.75,3738.76,4,3.33,5643.18,4,5.36,25158.6,14459,4.27319,6283.07585,673,3.917,12566.152,77,0,0,25,3.73,18849.23,4,2.8,6286.6,386,2.564,6283.076,31,2.27,12566.15,5,3.44,5573.14,2,2.05,18849.23,1,2.06,77713.77,1,4.41,161000.69,1,3.82,149854.4,1,4.08,6127.66,1,5.26,6438.5,9,1.22,6283.08,1,0.66,12566.15),E,j,v;var D,y=1,B=x[y+1]-x[y];for(H=0;H<6;H++,c*=z){E=x[y+H];j=x[y+1+H];D=j-E;if(!D){continue}v=Math.floor(3*G*D/B+0.5)+E;if(H){v+=3}if(v>j){v=j}for(A=E,F=0;A<v;A+=3){F+=x[A]*Math.cos(x[A+1]+z*x[A+2])}t+=F*c}t/=x[0];var C=z*z;var n=C*z;return t+(-0.0728-2.7702*z-1.1019*C-0.0996*n)/(180*3600/Math.PI)};this.zty=function(q,d){if(d===undefined){return q}var q=q-this.J/360;var j=q-2451545+this.dt_T(q)/86400;var p=j/36525;var r=(1753470142+628331965331.8*p+5296.74*p*p)/1000000000+Math.PI;var s=new Array();var o=(84381.4088-46.836051*p)/(180*3600/Math.PI);s[0]=this.XL_calc(p)+Math.PI;s[1]=0;var n=new Array();n[0]=Math.atan2(Math.sin(s[0])*Math.cos(o)-Math.tan(s[1])*Math.sin(o),Math.cos(s[0]));n[1]=Math.asin(Math.cos(o)*Math.sin(s[1])+Math.sin(o)*Math.cos(s[1])*Math.sin(s[0]));n[0]=this.rad2mrad(n[0]);r=this.rad2rrad(r-n[0]);var t=r/Math.PI/2;return q+t+this.floatval(d)/360};this.Jdays=function(y,B,u,A,r,q){var y=this.floatval(y);var B=this.floatval(B);var u=this.floatval(u);var A=this.floatval(A);var r=(r===undefined)?0:this.floatval(r);var q=(q===undefined)?0:this.floatval(q);if(y<-7000||y>7000){this.logs(0);return false}var t=y+Math.floor((B-3)/10);if((y>1582)||(y==1582&&B>10)||(y==1582&&B==10&&u>=15)){var s=1721119.5;var v=Math.floor(t*365.25)-Math.floor(t/100)+Math.floor(t/400)}else{if((y<1582)||(y==1582&&B<10)||(y==1582&&B==10&&u<=4)){var s=1721117.5;var v=Math.floor(t*365.25)}else{this.logs(9);return false}}var C=Math.floor(B+9)%12;var z=C*30+Math.floor((C+1)*34/57);var w=u-1;A=A+((q/60)+r)/60;var x=A/24;var D=v+z+w+x+s;return D};this.Jtime=function(m){var m=this.floatval(m);if(m>=2299160.5){var M=146097;var y=1721119.5}else{var M=146100;var y=1721117.5}var O=Math.floor(m-y);var d=M/4;var H=Math.floor((O+0.75)/d);var F=Math.floor(O+0.75-H*d);var Q=1461/4;var L=Math.floor((F+0.75)/Q);F=Math.floor(F+0.75-Q*L+1);var G=153/5;var A=Math.floor((F-0.5)/G);F=Math.floor((F-0.5)-30.6*A+1);var N=(100*H)+L;var C=(A+2)%12+1;if(C<3){N=N+1}var R=Math.floor((m+0.5-Math.floor(m+0.5))*24*60*60+0.00005);var D=Math.floor(R/60);var B=R%60;var P=Math.floor(D/60);var E=D%60;var K=Math.floor(N);var I=Math.floor(C);var J=Math.floor(F);return Array(K,I,J,P,E,B)};this.ValidDate=function(o,p,n){var m=true;if(p<=0||p>12){this.logs(13);m=false}else{var j=-(o%4==0);var l=((o%400==0)-(o%100==0))&&(o>1582);var q=j+l;var r=30+((Math.abs(p-7.5)+0.5)%2)-(p==2)*(2+q);if(n<=0||n>r){if(q==0&&p==2&&n==29){this.logs(14)}else{this.logs(4)}m=false}}if(o==1582&&p==10&&n>=5&&n<15){this.logs(9);m=false}return m};this.VE=function(g){var e=this.intval(g);if(e>=1000&&e<=8001){var f=(e-2000)/1000;var h=2451623.80984+365242.37404*f+0.05169*f*f-0.00411*f*f*f-0.00057*f*f*f*f}else{if(e>=-8000&&e<1000){var f=e/1000;var h=1721139.29189+365242.1374*f+0.06134*f*f+0.00111*f*f*f-0.00071*f*f*f*f}else{this.logs(0);return false}}return h};this.MeanJQJD=function(E){var E=this.intval(E);var x=new Array();var H=this.VE(E);var I=this.VE(E+1)-H;var v=2*Math.PI/24;var z=(H-2451545)/365250;var e=0.0167086342-0.0004203654*z-0.0000126734*z*z+1.444e-7*z*z*z-2e-10*z*z*z*z+3e-10*z*z*z*z*z;var B=E/1000;var G=111.25586939-17.0119934518333*B-0.044091890166673*B*B-0.000437356166661345*B*B*B+0.00000816716666602386*B*B*B*B;var f=G*2*Math.PI/360;var y=new Array(30);var A;for(A=1;A<=24;A++){var C=0;var F=v*(A-1)+f;if(F>Math.PI&&F<=3*Math.PI){F=2*Math.PI-F;C=1}if(F>3*Math.PI){F=4*Math.PI-F;C=2}var w=2*Math.atan((Math.sqrt((1-e)/(1+e))*Math.tan(F/2)));var D=(e*Math.sqrt(1-e*e)*Math.sin(F))/(1+e*Math.cos(F));var J=(w-D)*I/2/Math.PI;if(C==1){J=I-J}if(C==2){J=2*I-J}y[A]=J}for(A=1;A<=24;A++){x[A-1]=H+y[A]-y[1]}return x};this.Perturbation=function(l){var l=this.floatval(l);var r=new Array(485,203,199,182,156,136,77,74,70,58,52,50,45,44,29,18,17,16,14,12,12,12,9,8);var s=new Array(324.96,337.23,342.08,27.85,73.14,171.52,222.54,296.72,243.58,119.81,297.17,21.02,247.54,325.15,60.93,155.12,288.79,198.04,199.76,95.39,287.11,320.81,227.73,15.45);var t=new Array(1934.136,32964.467,20.186,445267.112,45036.886,22518.443,65928.934,3034.906,9037.513,33718.147,150.678,2281.226,29929.562,31555.956,4443.417,67555.328,4562.452,62894.029,31436.921,14577.848,31931.756,34777.259,1222.114,16859.074);var p=(l-2451545)/36525;var o=0;for(var m=0;m<=23;m++){o=o+r[m]*Math.cos(s[m]*2*Math.PI/360+t[m]*2*Math.PI/360*p)}var q=35999.373*p-2.47;var n=1+0.0334*Math.cos(q*2*Math.PI/360)+0.0007*Math.cos(2*q*2*Math.PI/360);return 0.00001*o/n};this.DeltaT=function(j,m){var j=this.intval(j);var m=this.intval(m);var h,g,n,l;l=j+(m-0.5)/12;if(l<=-500){h=(l-1820)/100;n=(-20+32*h*h)}else{if(l<500){h=l/100;n=(10583.6-1014.41*h+33.78311*h*h-5.952053*h*h*h-0.1798452*h*h*h*h+0.022174192*h*h*h*h*h+0.0090316521*h*h*h*h*h*h)}else{if(l<1600){h=(l-1000)/100;n=(1574.2-556.01*h+71.23472*h*h+0.319781*h*h*h-0.8503463*h*h*h*h-0.005050998*h*h*h*h*h+0.0083572073*h*h*h*h*h*h)}else{if(l<1700){g=l-1600;n=(120-0.9808*g-0.01532*g*g+g*g*g/7129)}else{if(l<1800){g=l-1700;n=(8.83+0.1603*g-0.0059285*g*g+0.00013336*g*g*g-g*g*g*g/1174000)}else{if(l<1860){g=l-1800;n=(13.72-0.332447*g+0.0068612*g*g+0.0041116*g*g*g-0.00037436*g*g*g*g+0.0000121272*g*g*g*g*g-1.699e-7*g*g*g*g*g*g+8.75e-10*g*g*g*g*g*g*g)}else{if(l<1900){g=l-1860;n=(7.62+0.5737*g-0.251754*g*g+0.01680668*g*g*g-0.0004473624*g*g*g*g+g*g*g*g*g/233174)}else{if(l<1920){g=l-1900;n=(-2.79+1.494119*g-0.0598939*g*g+0.0061966*g*g*g-0.000197*g*g*g*g)}else{if(l<1941){g=l-1920;n=(21.2+0.84493*g-0.0761*g*g+0.0020936*g*g*g)}else{if(l<1961){g=l-1950;n=(29.07+0.407*g-g*g/233+g*g*g/2547)}else{if(l<1986){g=l-1975;n=(45.45+1.067*g-g*g/260-g*g*g/718)}else{if(l<2005){g=l-2000;n=(63.86+0.3345*g-0.060374*g*g+0.0017275*g*g*g+0.000651814*g*g*g*g+0.00002373599*g*g*g*g*g)}else{if(l<2050){g=l-2000;n=(62.92+0.32217*g+0.005589*g*g)}else{if(l<2150){h=(l-1820)/100;n=(-20+32*h*h-0.5628*(2150-l))}else{h=(l-1820)/100;n=(-20+32*h*h)}}}}}}}}}}}}}}if(l<1955||l>=2005){n=n-(0.000012932*(l-1955)*(l-1955))}return n/60};this.GetAdjustedJQ=function(j){var j=this.intval(j);if(this.JQ&&this.JQ[j]){return this.JQ[j]}var m=new Array();var l=this.MeanJQJD(j);for(var g=0;g<24;g++){var h=this.Perturbation(l[g]);var n=this.DeltaT(j,Math.ceil(g/2)+3);m[g]=l[g]+h-n/60/24;m[g]=m[g]+8/24}this.JQ[j]=m;return m};this.GetZQsinceWinterSolstice=function(g){var g=this.intval(g);var h=new Array();var e=new Array(26);e=this.GetAdjustedJQ(g-1);h[0]=e[18];h[1]=e[20];h[2]=e[22];e=this.GetAdjustedJQ(g);for(var f=0;f<12;f++){h[f+3]=e[2*f]}e=this.GetAdjustedJQ(g+1);h[15]=e[0];return h};this.GetPureJQsinceSpring=function(g){var g=this.intval(g);var h=new Array();var e=this.GetAdjustedJQ(g-1);h[0]=e[21];h[1]=e[23];e=this.GetAdjustedJQ(g);for(var f=0;f<12;f++){h[f+2]=e[2*f+1]}e=this.GetAdjustedJQ(g+1);h[14]=e[1];return h};this.MeanNewMoon=function(h){var l,f,j;var h=this.floatval(h);var g=Math.floor((h-2451550.09765)/this.synmonth);j=2451550.09765+g*this.synmonth;l=(j-2451545)/36525;f=j+0.0001337*l*l-1.5e-7*l*l*l+7.3e-10*l*l*l*l;return g};this.TrueNewMoon=function(B){var z,v,x,A;var C,w,s,m,f;var y,t,u,D;var B=this.intval(B);D=2451550.09765+B*this.synmonth;z=(D-2451545)/36525;v=z*z;x=v*z;A=x*z;y=D+0.0001337*v-1.5e-7*x+7.3e-10*A;C=2.5534+29.10535669*B-0.0000218*v-1.1e-7*x;w=201.5643+385.81693528*B+0.0107438*v+0.00001239*x-5.8e-8*A;s=160.7108+390.67050274*B-0.0016341*v-0.00000227*x+1.1e-8*A;m=124.7746-1.5637558*B+0.0020691*v+0.00000215*x;f=1-0.002516*z-0.0000074*v;t=-0.4072*Math.sin((Math.PI/180)*w);t+=0.17241*f*Math.sin((Math.PI/180)*C);t+=0.01608*Math.sin((Math.PI/180)*2*w);t+=0.01039*Math.sin((Math.PI/180)*2*s);t+=0.00739*f*Math.sin((Math.PI/180)*(w-C));t-=0.00514*f*Math.sin((Math.PI/180)*(w+C));t+=0.00208*f*f*Math.sin((Math.PI/180)*(2*C));t-=0.00111*Math.sin((Math.PI/180)*(w-2*s));t-=0.00057*Math.sin((Math.PI/180)*(w+2*s));t+=0.00056*f*Math.sin((Math.PI/180)*(2*w+C));t-=0.00042*Math.sin((Math.PI/180)*3*w);t+=0.00042*f*Math.sin((Math.PI/180)*(C+2*s));t+=0.00038*f*Math.sin((Math.PI/180)*(C-2*s));t-=0.00024*f*Math.sin((Math.PI/180)*(2*w-C));t-=0.00017*Math.sin((Math.PI/180)*m);t-=0.00007*Math.sin((Math.PI/180)*(w+2*C));t+=0.00004*Math.sin((Math.PI/180)*(2*w-2*s));t+=0.00004*Math.sin((Math.PI/180)*(3*C));t+=0.00003*Math.sin((Math.PI/180)*(w+C-2*s));t+=0.00003*Math.sin((Math.PI/180)*(2*w+2*s));t-=0.00003*Math.sin((Math.PI/180)*(w+C+2*s));t+=0.00003*Math.sin((Math.PI/180)*(w-C+2*s));t-=0.00002*Math.sin((Math.PI/180)*(w-C-2*s));t-=0.00002*Math.sin((Math.PI/180)*(3*w+C));t+=0.00002*Math.sin((Math.PI/180)*(4*w));u=0.000325*Math.sin((Math.PI/180)*(299.77+0.107408*B-0.009173*v));u+=0.000165*Math.sin((Math.PI/180)*(251.88+0.016321*B));u+=0.000164*Math.sin((Math.PI/180)*(251.83+26.651886*B));u+=0.000126*Math.sin((Math.PI/180)*(349.42+36.412478*B));u+=0.00011*Math.sin((Math.PI/180)*(84.66+18.206239*B));u+=0.000062*Math.sin((Math.PI/180)*(141.74+53.303771*B));u+=0.00006*Math.sin((Math.PI/180)*(207.14+2.453732*B));u+=0.000056*Math.sin((Math.PI/180)*(154.84+7.30686*B));u+=0.000047*Math.sin((Math.PI/180)*(34.52+27.261239*B));u+=0.000042*Math.sin((Math.PI/180)*(207.19+0.121824*B));u+=0.00004*Math.sin((Math.PI/180)*(291.34+1.844379*B));u+=0.000037*Math.sin((Math.PI/180)*(161.72+24.198154*B));u+=0.000035*Math.sin((Math.PI/180)*(239.56+25.513099*B));u+=0.000023*Math.sin((Math.PI/180)*(331.55+3.592518*B));return y+t+u};this.GetSMsinceWinterSolstice=function(q){var q=this.intval(q);var y=new Array();var w,x=new Array(),t,v;var u,A,w;var B=this.GetAdjustedJQ(q-1);var z=B[18];u=this.Jdays(q-1,11,0,0);w=this.MeanNewMoon(u);for(t=0;t<=19;t++){v=w+t;x[t]=this.TrueNewMoon(v)+8/24;x[t]=x[t]-this.DeltaT(q,t-1)/1440}for(var r=0;r<=18;r++){if(Math.floor(x[r]+0.5)>Math.floor(z+0.5)){break}}var j={1804:{8:-310},1831:{4:-61},1842:{1:-904},1863:{1:-107},1880:{11:293},1896:{2:-751},1914:{12:-102},1916:{2:-315},1920:{11:-289}};var s=r;for(v=0;v<=15;v++){y[v]=x[s-1+v];if(j[q]&&j[q][v]){y[v]+=j[q][v]/86400}}return y};this.GetZQandSMandLunarMonthCode=function(j){var j=this.intval(j);var l;var m=new Array();var g=this.GetZQsinceWinterSolstice(j);var n=this.GetSMsinceWinterSolstice(j);l=0;m[0]=0;if(Math.floor(g[12]+0.5)>=Math.floor(n[13]+0.5)){for(var h=1;h<=14;h++){if(Math.floor((n[h]+0.5)>Math.floor(g[h-1-l]+0.5)&&Math.floor(n[h+1]+0.5)<=Math.floor(g[h-l]+0.5))){m[h]=h-0.5;l=1}else{m[h]=h-l}}}else{for(var h=1;h<=12;h++){m[h]=h}for(var h=13;h<=14;h++){if(Math.floor((n[h]+0.5)>Math.floor(g[h-1-l]+0.5)&&Math.floor(n[h+1]+0.5)<=Math.floor(g[h-l]+0.5))){m[h]=h-0.5;l=1}else{m[h]=h-l}}}return m};this.Lunar2Solar=function(q,r,x,u){var q=this.intval(q);var r=this.intval(r);var x=this.intval(x);var u=this.boolval(u);var z=new Array(),j=new Array(),v;var B=new Array(),w,y,A;if(q<-7000||q>7000){this.logs(0);return false}if(q<-1000||q>3000){this.logs(1)}z=this.GetSMsinceWinterSolstice(q);j=this.GetZQandSMandLunarMonthCode(q);v=0;for(var t=1;t<=14;t++){if(j[t]-Math.floor(j[t])>0){v=Math.floor(j[t]+0.5);break}}A=r+2;for(var s=0;s<=14;s++){B[s]=Math.floor(z[s+1]+0.5)-Math.floor(z[s]+0.5)}w=0;if(A>=3&&A<=14){if(x>=1&&x<=30){if(u==true){if(v<3){w=1;this.logs(7)}else{if(v!=A){w=1;this.logs(8)}else{if(x<=B[A]){y=z[A]+x-1}else{w=1;this.logs(4)}}}}else{if(v==0){if(x<=B[A-1]){y=z[A-1]+x-1}else{w=1;this.logs(4)}}else{if(x<=B[A+(A>v)-1]){y=z[A+(A>v)-1]+x-1}else{w=1;this.logs(4)}}}if(w==0){}}else{w=1;this.logs(5)}}else{w=1;this.logs(6)}return w?false:this.Jtime(y).slice(0,3)};this.Solar2Lunar=function(p,s,z){var p=this.intval(p);var s=this.intval(s);var z=this.intval(z);var A=new Array(),y=new Array(),u;var B=0;if(p<-7000||p>7000){this.logs(0);return false}if(p<-1000||p>3000){this.logs(1)}if(this.ValidDate(p,s,z)===false){return false}A=this.GetSMsinceWinterSolstice(p);y=this.GetZQandSMandLunarMonthCode(p);var v=this.Jdays(p,s,z,12);if(Math.floor(v)<Math.floor(A[0]+0.5)){B=1;A=this.GetSMsinceWinterSolstice(p-1);y=this.GetZQandSMandLunarMonthCode(p-1)}for(var r=0;r<=14;r++){if(Math.floor(v)>=Math.floor(A[r]+0.5)&&Math.floor(v)<Math.floor(A[r+1]+0.5)){var q=r;break}}var x=Math.floor(v)-Math.floor(A[q]+0.5)+1;if(y[q]<2||B==1){var t=p-1}else{var t=p}if((y[q]-Math.floor(y[q]))*2+1==1){var w=false}else{var w=true}u=(Math.floor(y[q]+10)%12)+1;return Array(t,u,x,w)};this.GetWeek=function(g,h,f){var g=this.intval(g);var h=this.intval(h);var f=this.intval(f);var e=this.Jdays(g,h,f,12,0,0);if(e===false){return false}return(((Math.floor(e+1)%7))+7)%7};this.GetSolarDays=function(l,f){var l=this.intval(l);var f=this.intval(f);if(f<1||f>12){this.logs(13);return 0}if(l==1582&&f==10){return 21}var h=-(l%4==0);var j=((l%400==0)-(l%100==0))&&(l>1582);var g=h+j;return 30+((Math.abs(f-7.5)+0.5)%2)-(f==2)*(2+g)};this.GetLunarDays=function(t,x,z){var t=this.intval(t);var x=this.intval(x);var z=this.boolval(z);var r=new Array(),s=new Array(),y;var u=new Array(),j,p;if(t<-7000||t>7000){this.logs(0);return false}if(t<-1000||t>3000){this.logs(1)}r=this.GetSMsinceWinterSolstice(t);s=this.GetZQandSMandLunarMonthCode(t);y=0;for(var w=1;w<=14;w++){if(s[w]-Math.floor(s[w])>0){y=Math.floor(s[w]+0.5);break}}p=x+2;for(var v=0;v<=14;v++){u[v]=Math.floor(r[v+1]+0.5)-Math.floor(r[v]+0.5)}j=0;if(p>=3&&p<=14){if(z==true){if(y<3){j=1;this.logs(7)}else{if(y!=p){j=1;this.logs(8)}else{var q=u[p]}}}else{if(y==0){var q=u[p-1]}else{var q=u[p+(p>y)-1]}}}else{j=1;this.logs(6)}return j?false:q};this.GetRunyue=function(g){var g=this.intval(g);var h=this.GetZQandSMandLunarMonthCode(g);var e=0;for(var f=1;f<=14;f++){if(h[f]-Math.floor(h[f])>0){e=Math.floor(h[f]+0.5);break}}return Math.max(0,e-2)};this.GetXZ=function(t,m,s,n,p,q){var t=this.intval(t);var m=this.intval(m);var s=this.intval(s);var n=this.intval(n);var p=(p===undefined)?0:this.intval(p);var q=(q===undefined)?0:this.intval(q);if(this.ValidDate(t,m,s)===false){return false}var o=this.Jdays(t,m,s,n,p,q);if(o===false){return false}var u=this.GetZQsinceWinterSolstice(t);if(o<u[0]){var u=this.GetZQsinceWinterSolstice(t-1)}for(var v=0;v<=13;v++){if(o<u[v]){var r=(v+12-1)%12;break}}return r};this.GetGZ=function(M,I,G,R,H,C){var M=this.floatval(M);var I=this.floatval(I);var G=this.floatval(G);var R=this.floatval(R);var H=(H===undefined)?0:this.floatval(H);var C=(C===undefined)?0:this.floatval(C);if(H+C==0){C=10}if(this.ValidDate(M,I,G)===false){return false}var P=this.Jdays(M,I,G,R,H,C);if(P===false){return false}var D=new Array();var F=M;D=this.GetPureJQsinceSpring(M);if(P<D[0]){F=M-1;D=this.GetPureJQsinceSpring(F)}var Q=new Array();var N=new Array();var O=((F+4712+24)%60+60)%60;Q[0]=O%10;N[0]=O%12;for(var A=0;A<=13;A++){if(D[A]>=P){var S=A-1;break}}var E=((F+4712)*12+(S)+60)%60;var z=(E+50)%60;Q[1]=z%10;N[1]=z%12;var L=P+0.5;var B=((L-Math.floor(L))*86400)+3600;var T=Math.floor(L)+B/86400;var J=(Math.floor(T+49)%60+60)%60;Q[2]=J%10;N[2]=J%12;if(this.zwz&&(R>=23)){Q[2]=(Q[2]+10-1)%10;N[2]=(N[2]+12-1)%12}var K=T*12;var j=(Math.floor(K+48)%60+60)%60;Q[3]=j%10;N[3]=j%12;return Array(Q,N)};this.MGZ=function(f){var l=new Array();var j=2+12*(f%10);for(var h=0;h<=11;h++){var g=(h+j)%60;l[g]=this.gz[g]}return l};this.HGZ=function(h){var l=new Array();var j=12*(h%10);for(var g=0;g<=11;g++){var f=(g+j)%60;l[f]=this.gz[f]}return l};this.GZ=function(c,d){var c=this.intval(c);var d=this.intval(d);if(c<0||c>59){this.logs(3,11);return false}if(d<0||d>59){this.logs(3,12);return false}if((c%2)!=(d%2)){this.logs(3,13);return false}return((10+c-d)%10)/2*12+d};this.gz2gl=function(Q,F,D,L,G,O){var Q=this.intval(Q);var F=this.intval(F);var D=this.intval(D);var L=this.intval(L);var G=this.intval(G);var O=this.intval(O);if(Q<0||Q>=60){this.logs(3,0);return false}if(F<0||F>=60){this.logs(3,1);return false}if(D<0||D>=60){this.logs(3,2);return false}if(L<0||L>=60){this.logs(3,3);return false}if(!(F in this.MGZ(Q))){this.logs(2,0);return false}if(!(L in this.HGZ(D))){this.logs(2,1);return false}var E=G+O*60;if(G<-1000||E>3000){this.logs(1)}var T=new Array();for(var J=0;J<=O-1;J++){var V=G+J*60;var H=(V+56)%60;var X=(Q+60-H)%60;var W=V+X;var N=this.GetPureJQsinceSpring(W);var R=(F+60-2)%12;var Y=N[R];var S=N[R+1];var P=(Math.floor(Y)+49)%60;var C=(D+60-P)%60;var m=Math.floor(Y+C);var U=L%12;var K=m+(U*2-13)/24;var M=m+(U*2-11)/24;if(M<Y||K>S){}else{if(K>Y&&M<S){var I=K;var Z=M}if(K<Y&&M>Y){var I=Y;var Z=M}if(K<S&&M>S){var I=K;var Z=S}T.push([this.Jtime(I),this.Jtime(Z)])}}return T};this.fatemaps=function(y,q,s,p,t,w,x,r){var y=this.intval(y)?1:0;var q=this.intval(q);var s=this.intval(s);var p=this.intval(p);var t=this.intval(t);var w=(w===undefined)?0:this.intval(w);var x=(x===undefined)?0:this.intval(x);if(q<-1000||q>3000){this.logs(1)}var v=this.Jdays(q,s,p,t,w,x);if(v===false){return false}var u=new Array();if(r!==undefined){u.pty=v+(this.floatval(r)-this.J)*4*60/86400;u.pty=this.Jtime(u.pty);v=this.zty(v,r);u.zty=this.Jtime(v)}var [q,s,p,t,w,x]=this.Jtime(v);var ta=365.24244475;var nwx=new Array(0,0,0,0,0);var nyy=new Array(0,0);var szs=new Array(1,6,10,9,10,9,7,0,4,3);var ty=q;var jr=this.GetPureJQsinceSpring(ty);if(v<jr[0]){ty=q-1;jr=this.GetPureJQsinceSpring(ty)}var [tg,j]=this.GetGZ(q,s,p,t,w,x);var yytg=new Array();var yydz=new Array();var ewxtg=new Array();var ewxdz=new Array();for(var k=0;k<=3;k++){yytg[k]=tg[k]%2;nyy[yytg[k]]=nyy[yytg[k]]+1;yydz[k]=j[k]%2;nyy[yydz[k]]=nyy[yydz[k]]+1;ewxtg[k]=this.wxtg[tg[k]];nwx[ewxtg[k]]=nwx[ewxtg[k]]+1;ewxdz[k]=this.wxdz[j[k]];nwx[ewxdz[k]]=nwx[ewxdz[k]]+1}u.nyy=nyy;u.nwx=nwx;u.yytg=yytg;u.yydz=yydz;u.ewxtg=ewxtg;u.ewxdz=ewxdz;var bzcg=new Array();var wxcg=new Array();var yycg=new Array();var bctg=new Array();for(var i=0;i<=3;i++){wxcg[i]=new Array();yycg[i]=new Array();for(var r=0;r<=2;r++){var nzcg=this.zcg[j[i]][r];if(nzcg>=0){bctg[3*i+r]=this.ctg[nzcg];bzcg[3*i+r]=this.sss[this.dgs[nzcg][tg[2]]];wxcg[i][r]=this.wxtg[nzcg];yycg[i][r]=nzcg%2}else{bctg[3*i+r]="";bzcg[3*i+r]=""}}}u.bctg=bctg;u.bzcg=bzcg;u.wxcg=wxcg;u.yycg=yycg;for(var i=0;i<=14;i++){if(jr[i]>v){var ord=i-1;break}}var xf=v-jr[ord];var yf=jr[ord+1]-v;if(((y==0)&&(yytg[0]==0))||((y==1)&&(yytg[0]==1))){var zf=ta*10*(yf/(yf+xf));var forward=0}else{var zf=ta*10*(xf/(yf+xf));var forward=1}var qyt=v+zf;var jt=this.Jtime(qyt);var qyy=jt[0];u.qyy=qyy;u.qyy_desc="出生后"+this.intval(zf/ta)+"年"+this.intval(zf%ta/(ta/12))+"个月"+this.intval(zf%ta%(ta/12))+"天起运";var qjr=this.GetPureJQsinceSpring(qyy);if(qyt>=qjr[0]){var jqyy=qyy}else{var jqyy=qyy-1}var jtd=((jqyy+4712+24)%10+10)%10;jtd=this.ctg[((jqyy+4712+24)%10+10)%10]+" "+this.ctg[((jqyy+4712+24+5)%10+10)%10];u.qyy_desc2="每逢 "+jtd+" 年"+jt[1]+"月"+jt[2]+"日交大運";var qage=jqyy-ty;u.dy=new Array();var zqage=new Array();var zboz=new Array();var zfman=new Array();var zfmbn=new Array();var zfma=new Array();var zfmb=new Array();var nzs=new Array();var mgz=((10+tg[1]-j[1])%10)/2*12+j[1];for(var k=0;k<=8;k++){if(u.dy[k]===undefined){u.dy[k]=new Array()}u.dy[k]["zqage"]=zqage[k]=qage+1+k*10;u.dy[k]["zboz"]=zboz[k]=qage+1+k*10+9;u.dy[k]["syear"]=qyy+k*10;u.dy[k]["eyear"]=qyy+k*10+9;u.dy[k]["zfman"]=zfman[k]=(mgz+60+Math.pow(-1,forward)*(k+1))%10;u.dy[k]["zfmbn"]=zfmbn[k]=(mgz+60+Math.pow(-1,forward)*(k+1))%12;u.dy[k]["zfma"]=zfma[k]=this.ctg[zfman[k]];u.dy[k]["zfmb"]=zfmb[k]=this.cdz[zfmbn[k]];u.dy[k]["nzs"]=nzs[k]=(24+szs[tg[2]]+Math.pow(-1,tg[2])*(zfmbn[0]+Math.pow(-1,forward)*k))%12;u.dy[k]["nzsc"]=this.czs[nzs[k]]}var lyean=new Array();var lyebn=new Array();var lye=new Array();for(var r=0;r<=89;r++){var k=this.intval(r/10);var i=r%10;if(u.dy[k]["ly"]===undefined){u.dy[k]["ly"]=new Array()}if(u.dy[k]["ly"][i]===undefined){u.dy[k]["ly"][i]=new Array()}u.dy[k]["ly"][i]["age"]=r+qage+1;u.dy[k]["ly"][i]["year"]=r+qage+ty;u.dy[k]["ly"][i]["lyean"]=lyean[r]=(tg[0]+r+qage)%10;u.dy[k]["ly"][i]["lyebn"]=lyebn[r]=(j[0]+r+qage)%12;u.dy[k]["ly"][i]["lye"]=lye[r]=this.ctg[lyean[r]]+this.cdz[lyebn[r]]}var zr=this.GetZQsinceWinterSolstice(q);if(v<zr[0]){var zr=this.GetZQsinceWinterSolstice(q-1)}for(var i=0;i<=13;i++){if(v<zr[i]){var xz=(i+12-1)%12;break}}u.mz=this.mz[y];u.xb=this.xb[y];u.gl=[q,s,p];u.nl=this.Solar2Lunar(q,s,p);u.tg=tg;u.dz=j;u.sz=new Array();u.ctg=new Array();u.cdz=new Array();for(var i=0;i<=3;i++){u.sz[i]=this.ctg[tg[i]]+this.cdz[j[i]];u.ctg[i]=this.ctg[tg[i]];u.cdz[i]=this.cdz[j[i]]}u.sx=this.csx[j[0]];u.xz=this.cxz[xz];u.cyy=this.cyy[yytg[2]];return u}}window.p=new paipan();
